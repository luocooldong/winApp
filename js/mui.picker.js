!function(o,e,t,i){var l=o.rad2deg=function(e){return e/(Math.PI/180)},n=(o.deg2rad=function(e){return e*(Math.PI/180)},navigator.platform.toLowerCase()),r=navigator.userAgent.toLowerCase(),s=(-1<r.indexOf("iphone")||-1<r.indexOf("ipad")||-1<r.indexOf("ipod"))&&(-1<n.indexOf("iphone")||-1<n.indexOf("ipad")||-1<n.indexOf("ipod")),a=o.Picker=function(e,t){var n=this;n.holder=e,n.options=t||{},n.init(),n.initInertiaParams(),n.calcElementItemPostion(!0),n.bindEvent()};a.prototype.findElementItems=function(){var e=this;return e.elementItems=[].slice.call(e.holder.querySelectorAll("li")),e.elementItems},a.prototype.init=function(){var e=this;e.list=e.holder.querySelector("ul"),e.findElementItems(),e.height=e.holder.offsetHeight,e.r=e.height/2-10,e.d=2*e.r,e.itemHeight=0<e.elementItems.length?e.elementItems[0].offsetHeight:40,e.itemAngle=parseInt(e.calcAngle(.8*e.itemHeight)),e.hightlightRange=e.itemAngle/2,e.visibleRange=90,e.beginAngle=0,e.beginExceed=e.beginAngle-30,e.list.angle=e.beginAngle,s&&(e.list.style.webkitTransformOrigin="center center "+e.r+"px")},a.prototype.calcElementItemPostion=function(i){var r=this;i&&(r.items=[]),r.elementItems.forEach(function(e){var t=r.elementItems.indexOf(e);if(r.endAngle=r.itemAngle*t,e.angle=r.endAngle,e.style.webkitTransformOrigin="center center -"+r.r+"px",e.style.webkitTransform="translateZ("+r.r+"px) rotateX("+-r.endAngle+"deg)",i){var n={};n.text=e.innerHTML||"",n.value=e.getAttribute("data-value")||n.text,r.items.push(n)}}),r.endExceed=r.endAngle+30,r.calcElementItemVisibility(r.beginAngle)},a.prototype.calcAngle=function(e){var t=this,n=b=parseFloat(t.r);e=Math.abs(e);var i=180*parseInt(e/t.d);e%=t.d;var r=(n*n+b*b-e*e)/(2*n*b);return i+l(Math.acos(r))},a.prototype.calcElementItemVisibility=function(n){var i=this;i.elementItems.forEach(function(e){var t=Math.abs(e.angle-n);t<i.hightlightRange?e.classList.add("highlight"):t<i.visibleRange?(e.classList.add("visible"),e.classList.remove("highlight")):(e.classList.remove("highlight"),e.classList.remove("visible"))})},a.prototype.setAngle=function(e){var t=this;t.list.angle=e,t.list.style.webkitTransform="perspective(1000px) rotateY(0deg) rotateX("+e+"deg)",t.calcElementItemVisibility(e)},a.prototype.bindEvent=function(){var r=this,l=0,s=null,a=!1;r.holder.addEventListener(o.EVENT_START,function(e){a=!0,e.preventDefault(),r.list.style.webkitTransition="",s=(e.changedTouches?e.changedTouches[0]:e).pageY,l=r.list.angle,r.updateInertiaParams(e,!0)},!1),r.holder.addEventListener(o.EVENT_END,function(e){a=!1,e.preventDefault(),r.startInertiaScroll(e)},!1),r.holder.addEventListener(o.EVENT_CANCEL,function(e){a=!1,e.preventDefault(),r.startInertiaScroll(e)},!1),r.holder.addEventListener(o.EVENT_MOVE,function(e){if(a){e.preventDefault();var t=(e.changedTouches?e.changedTouches[0]:e).pageY-s,n=r.calcAngle(t),i=0<t?l-n:l+n;i>r.endExceed&&(i=r.endExceed),i<r.beginExceed&&(i=r.beginExceed),r.setAngle(i),r.updateInertiaParams(e)}},!1),r.list.addEventListener("tap",function(e){elementItem=e.target,"LI"==elementItem.tagName&&r.setSelectedIndex(r.elementItems.indexOf(elementItem),200)},!1)},a.prototype.initInertiaParams=function(){var e=this;e.lastMoveTime=0,e.lastMoveStart=0,e.stopInertiaMove=!1},a.prototype.updateInertiaParams=function(e,t){var n=this,i=e.changedTouches?e.changedTouches[0]:e;if(t)n.lastMoveStart=i.pageY,n.lastMoveTime=e.timeStamp||Date.now(),n.startAngle=n.list.angle;else{var r=e.timeStamp||Date.now();300<r-n.lastMoveTime&&(n.lastMoveTime=r,n.lastMoveStart=i.pageY)}n.stopInertiaMove=!0},a.prototype.startInertiaScroll=function(e){var t=this,n=e.changedTouches?e.changedTouches[0]:e,i=e.timeStamp||Date.now(),r=(n.pageY-t.lastMoveStart)/(i-t.lastMoveTime),l=0<r?-1:1,s=6e-4*l*-1,a=Math.abs(r/s),o=r*a/2,c=t.list.angle,g=t.calcAngle(o)*l,d=g;c+g<t.beginExceed&&(a=a*((g=t.beginExceed-c)/d)*.6),c+g>t.endExceed&&(a=a*((g=t.endExceed-c)/d)*.6),0!=g?t.scrollDistAngle(i,c,g,a):t.endScroll()},a.prototype.scrollDistAngle=function(e,t,n,i){var r,l,s,a,o=this;o.stopInertiaMove=!1,r=t,l=n,s=i/13,a=0,function e(){if(!o.stopInertiaMove){var t=o.quartEaseOut(a,r,l,s);o.setAngle(t),s-1<++a||t<o.beginExceed||t>o.endExceed?o.endScroll():setTimeout(e,13)}}()},a.prototype.quartEaseOut=function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},a.prototype.endScroll=function(){var e=this;if(e.list.angle<e.beginAngle)e.list.style.webkitTransition="150ms ease-out",e.setAngle(e.beginAngle);else if(e.list.angle>e.endAngle)e.list.style.webkitTransition="150ms ease-out",e.setAngle(e.endAngle);else{var t=parseInt((e.list.angle/e.itemAngle).toFixed(0));e.list.style.webkitTransition="100ms ease-out",e.setAngle(e.itemAngle*t)}e.triggerChange()},a.prototype.triggerChange=function(n){var i=this;setTimeout(function(){var e=i.getSelectedIndex(),t=i.items[e];!o.trigger||e==i.lastIndex&&!0!==n||o.trigger(i.holder,"change",{index:e,item:t}),i.lastIndex=e,"function"==typeof n&&n()},0)},a.prototype.correctAngle=function(e){return e<this.beginAngle?this.beginAngle:e>this.endAngle?this.endAngle:e},a.prototype.setItems=function(e){var t=this;t.items=e||[];var n=[];t.items.forEach(function(e){null!==e&&e!==i&&n.push("<li>"+(e.text||e)+"</li>")}),t.list.innerHTML=n.join(""),t.findElementItems(),t.calcElementItemPostion(),t.setAngle(t.correctAngle(t.list.angle)),t.triggerChange(!0)},a.prototype.getItems=function(){return this.items},a.prototype.getSelectedIndex=function(){return parseInt((this.list.angle/this.itemAngle).toFixed(0))},a.prototype.setSelectedIndex=function(e,t,n){var i=this;i.list.style.webkitTransition="";var r=i.correctAngle(i.itemAngle*e);if(t&&0<t){var l=r-i.list.angle;i.scrollDistAngle(Date.now(),i.list.angle,l,t)}else i.setAngle(r);i.triggerChange(n)},a.prototype.getSelectedItem=function(){return this.items[this.getSelectedIndex()]},a.prototype.getSelectedValue=function(){return(this.items[this.getSelectedIndex()]||{}).value},a.prototype.getSelectedText=function(){return(this.items[this.getSelectedIndex()]||{}).text},a.prototype.setSelectedValue=function(e,t,n){for(var i in this.items){if(this.items[i].value==e)return void this.setSelectedIndex(i,t,n)}},o.fn&&(o.fn.picker=function(r){return this.each(function(e,t){if(!t.picker)if(r)t.picker=new a(t,r);else{var n=t.getAttribute("data-picker-options"),i=n?JSON.parse(n):{};t.picker=new a(t,i)}}),this[0]?this[0].picker:null},o.ready(function(){o(".mui-picker").picker()}))}(window.mui||window,window,document,void 0);